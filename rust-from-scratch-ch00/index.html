<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>Jessun&#x27;s Blog - Rust From Scratch chap.00 | Rust 介绍与安装</title>

      

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">

          <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
          <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/mathtex-script-type.min.js" integrity="sha384-zWYbd0NBwgTsgIdFKVprSfTh1mbMPe5Hz1X3yY4Sd1h/K1cQoUe36OGwAGz/PcDy" crossorigin="anonymous"></script>
              
          <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
                  onload="renderMathInElement(document.body);"></script>
              
          
      

      
          <link rel="stylesheet" href="https:&#x2F;&#x2F;jessun.github.io&#x2F;site.css">
          
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="/" class="logo">Jessun&#x27;s Blog</a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;jessun.github.io">
                            Home
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;jessun.github.io&#x2F;categories">
                            Categories
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;jessun.github.io&#x2F;tags">
                            Tags
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;jessun.github.io&#x2F;about">
                            About
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;jessun.github.io">Jessun&#x27;s Blog</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;jessun.github.io">
                                    Home
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;jessun.github.io&#x2F;categories">
                                    Categories
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;jessun.github.io&#x2F;tags">
                                    Tags
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;jessun.github.io&#x2F;about">
                                    About
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    


<div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content always-active">
        <nav id="TableOfContents">
            <ul>
                
                <li>
                    <a href="https://jessun.github.io/rust-from-scratch-ch00/#1-rust-jian-jie" class="toc-link">1. Rust 简介</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://jessun.github.io/rust-from-scratch-ch00/#1-1-qi-yuan" class="toc-link">1.1 起源</a>
                        </li>
                        
                        <li>
                            <a href="https://jessun.github.io/rust-from-scratch-ch00/#1-2-guan-fang-wang-zhan-ji-wen-dang-zhi-nan" class="toc-link">1.2 官方网站及文档指南</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://jessun.github.io/rust-from-scratch-ch00/#2-rust-huan-jing-chu-shi-hua" class="toc-link">2. Rust 环境初始化</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://jessun.github.io/rust-from-scratch-ch00/#2-1-shi-yong-rustup-guan-li-bu-tong-ban-ben-de-rust" class="toc-link">2.1 使用 rustup 管理不同版本的 Rust</a>
                        </li>
                        
                        <li>
                            <a href="https://jessun.github.io/rust-from-scratch-ch00/#2-2-shi-yong-cargo-lai-guan-li-ni-de-xiang-mu" class="toc-link">2.2 使用 Cargo 来管理你的项目</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://jessun.github.io/rust-from-scratch-ch00/#3-kai-fa-gong-ju-yi-ji-qi-ta-xiao-zhi-shi-dian" class="toc-link">3. 开发工具以及其他小知识点</a>
                    
                </li>
                
            </ul>
        </nav>
    </div>
</div>


<article class="post">
    
    <header class="post__header">
        <span class="post__title">
            <a href="https:&#x2F;&#x2F;jessun.github.io&#x2F;rust-from-scratch-ch00&#x2F;">Rust From Scratch chap.00 | Rust 介绍与安装</a>
        </span>
        <span class="post__meta">
            <span class="post__time">2020-06-22</span>
            
        </span>
    </header>

    <div class="post-content">
      <hr />
<h1 id="1-rust-jian-jie">1. Rust 简介</h1>
<h2 id="1-1-qi-yuan">1.1 起源</h2>
<blockquote>
<p>Rust是由 Mozilla 主导开发的通用、编译型编程语言。设计准则为“安全、并发、实用”，支持函数式、并发式、过程式以及面向对象的编程风格
Rust语言原本是 Mozilla 员工 Graydon Hoare 的私人计划，而 Mozilla 于2009年开始赞助这个计划 ，并且在2010年首次揭露了它的存在。
也在同一年，其编译器源代码开始由原本的OCaml语言转移到用Rust语言，进行bootstrapping工作，称做rustc，并于2011年实际完成。
这个可自我编译的编译器在架构上采用了LLVM做为它的后端。</p>
</blockquote>
<h2 id="1-2-guan-fang-wang-zhan-ji-wen-dang-zhi-nan">1.2 官方网站及文档指南</h2>
<ul>
<li>
<p>官方网站：<a href="https://www.rust-lang.org/">https://www.rust-lang.org/</a></p>
</li>
<li>
<p>各种文档：<a href="https://prev.rust-lang.org/zh-CN/documentation.html">https://prev.rust-lang.org/zh-CN/documentation.html</a> 和 <a href="https://rustwiki.org/zh-CN/">https://rustwiki.org/zh-CN/</a></p>
<ul>
<li>
<p><a href="https://kaisery.github.io/trpl-zh-cn/">&lt;&lt; Rust 程序设计语言 &gt;&gt;</a></p>
</li>
<li>
<p><a href="https://rustwiki.org/rust-by-example/">&lt;&lt; Rust By Example &gt;&gt;</a></p>
</li>
<li>
<p><a href="https://doc.rust-lang.org/nomicon/">&lt;&lt; Rust 高级教程 &gt;&gt;</a></p>
</li>
</ul>
</li>
</ul>
<hr />
<h1 id="2-rust-huan-jing-chu-shi-hua">2. Rust 环境初始化</h1>
<h2 id="2-1-shi-yong-rustup-guan-li-bu-tong-ban-ben-de-rust">2.1 使用 rustup 管理不同版本的 Rust</h2>
<p>rustup 是 Rust 官方的版本管理工具。应当作为安装 Rust 的首选。安装 Rust 使用来自官方的 <code>rustup</code> 工具，<a href="https://www.rust-lang.org/tools/install">官方推荐</a>。
<code>rustup</code> 命令文档请访问 <a href="https://rust-lang.github.io/rustup/">https://rust-lang.github.io/rustup/</a>。中文版请访问 <a href="https://github.com/chinanf-boy/rustup.rs-zh">https://github.com/chinanf-boy/rustup.rs-zh</a>。
<code>rustc</code>是 Rust 的编译器，<code>cargo</code>是 Rust 的包管理工具。</p>
<pre style="background-color:#002b36;">
<code class="language-bash" data-lang="bash"><span style="color:#586e75;"># MacOS
</span><span style="color:#b58900;">$</span><span style="color:#839496;"> brew install rustup-init

</span><span style="color:#586e75;"># Arch Linux
</span><span style="color:#839496;">$ sudo pacman</span><span style="color:#268bd2;"> -S</span><span style="color:#839496;"> yay
</span><span style="color:#b58900;">$</span><span style="color:#839496;"> yay</span><span style="color:#268bd2;"> -S</span><span style="color:#839496;"> rustup

</span><span style="color:#586e75;"># (optional)
</span><span style="color:#839496;">$ rustup default nightly
</span><span style="color:#b58900;">$</span><span style="color:#839496;"> rustup toolchain install nightly
</span><span style="color:#b58900;">$</span><span style="color:#839496;"> rustup component add rust-src 
</span></code></pre><pre style="background-color:#002b36;">
<code class="language-bash" data-lang="bash"><span style="color:#586e75;"># 更新
</span><span style="color:#b58900;">$</span><span style="color:#839496;"> rustup update

</span><span style="color:#586e75;"># 卸载
</span><span style="color:#839496;">$ rustup self uninstall
</span></code></pre>
<p>为 Bash/Fish/Zsh 添加 tab 补全</p>
<pre style="background-color:#002b36;">
<code class="language-bash" data-lang="bash"><span style="color:#586e75;"># Bash
</span><span style="color:#b58900;">$</span><span style="color:#839496;"> rustup completions bash </span><span style="color:#657b83;">&gt; </span><span style="color:#d33682;">~</span><span style="color:#839496;">/.local/share/bash-completion/completions/rustup

</span><span style="color:#586e75;"># Bash (macOS/Homebrew)
</span><span style="color:#839496;">$ rustup completions bash </span><span style="color:#657b83;">&gt; </span><span style="color:#859900;">$</span><span style="color:#657b83;">(</span><span style="color:#b58900;">brew</span><span style="color:#268bd2;"> --prefix</span><span style="color:#657b83;">)</span><span style="color:#839496;">/etc/bash_completion.d/rustup.bash-completion

</span><span style="color:#586e75;"># Fish
</span><span style="color:#839496;">$ mkdir</span><span style="color:#268bd2;"> -p </span><span style="color:#d33682;">~</span><span style="color:#839496;">/.config/fish/completions
</span><span style="color:#b58900;">$</span><span style="color:#839496;"> rustup completions fish </span><span style="color:#657b83;">&gt; </span><span style="color:#d33682;">~</span><span style="color:#839496;">/.config/fish/completions/rustup.fish

</span><span style="color:#586e75;"># Zsh
</span><span style="color:#839496;">$ rustup completions zsh </span><span style="color:#657b83;">&gt; </span><span style="color:#d33682;">~</span><span style="color:#839496;">/.zfunc/_rustup

</span><span style="color:#586e75;"># PowerShell v5.0+
</span><span style="color:#839496;">$ rustup completions powershell </span><span style="color:#657b83;">&gt;&gt; </span><span style="color:#859900;">$</span><span style="color:#268bd2;">PROFILE</span><span style="color:#839496;">.CurrentUserCurrentHost
</span><span style="color:#586e75;"># or
</span><span style="color:#839496;">$ rustup completions powershell </span><span style="color:#859900;">| </span><span style="color:#b58900;">Out-String </span><span style="color:#859900;">| </span><span style="color:#b58900;">Invoke-Expression
</span></code></pre>
<blockquote>
<p>如果需要更换为国内的安装源，请访问清华大学的<a href="https://mirrors.tuna.tsinghua.edu.cn/help/rustup/">镜像源</a>和中科大的<a href="https://mirrors.ustc.edu.cn/help/rust-static.html">镜像源</a>。</p>
</blockquote>
<p>Rust 由工具 rustup 安装和管理。Rust 有着以 6 星期为周期的 快速版本迭代机制，支持 大量平台，因而不同时期存在大量不同的 Rust 构建版本。
rustup 用于管理不同平台下的 Rust 构建版本并使其互相兼容， 支持安装由 Beta 和 Nightly 频道发布的版本，并支持其他用于交叉编译的编译版本。</p>
<h2 id="2-2-shi-yong-cargo-lai-guan-li-ni-de-xiang-mu">2.2 使用 Cargo 来管理你的项目</h2>
<p><code>rustup</code>是 rust 的版本管理器。<code>cargo</code>是 Rust 的构建系统和包管理器，比如构建代码、下载依赖库并编译这些库。
一般安装 Rust 完成后，<code>cargo</code>已经安装完成。关于<code>cargo</code>的详细介绍：<a href="http://llever.com/cargo-book-zh/">Cargo-Book</a></p>
<pre style="background-color:#002b36;">
<code class="language-bash" data-lang="bash"><span style="color:#586e75;"># 创建新项目目录
</span><span style="color:#b58900;">$</span><span style="color:#839496;"> cargo new new_project //</span><span style="color:#268bd2;"> --bin</span><span style="color:#839496;"> or</span><span style="color:#268bd2;"> --lib
</span><span style="color:#586e75;"># or
</span><span style="color:#268bd2;">$</span><span style="color:#839496;"> cargo init new_project
</span><span style="color:#586e75;"># cargo 命令会自动初始化一个 git 仓库
</span></code></pre>
<p><code>new_project</code> 的结构如下：</p>
<pre style="background-color:#002b36;">
<code class="language-bash" data-lang="bash"><span style="color:#859900;">.
</span><span style="color:#b58900;">├──</span><span style="color:#839496;"> Cargo.toml
</span><span style="color:#b58900;">└──</span><span style="color:#839496;"> src
    </span><span style="color:#b58900;">└──</span><span style="color:#839496;"> main.rs
</span></code></pre>
<p>其中 <code>Cargo.toml</code> 的内容基本如下：</p>
<pre style="background-color:#002b36;">
<code class="language-toml" data-lang="toml"><span style="color:#839496;">[</span><span style="color:#b58900;">package</span><span style="color:#839496;">]
</span><span style="color:#268bd2;">name </span><span style="color:#839496;">= &quot;</span><span style="color:#2aa198;">new_project</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">version </span><span style="color:#839496;">= &quot;</span><span style="color:#2aa198;">0.1.0</span><span style="color:#839496;">&quot;
</span><span style="color:#268bd2;">authors </span><span style="color:#839496;">= [&quot;</span><span style="color:#2aa198;">username &lt;username@xxx.com&gt;</span><span style="color:#839496;">&quot;]
</span><span style="color:#268bd2;">edition </span><span style="color:#839496;">= &quot;</span><span style="color:#2aa198;">2018</span><span style="color:#839496;">&quot;

</span><span style="color:#586e75;"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

</span><span style="color:#839496;">[</span><span style="color:#b58900;">dependencies</span><span style="color:#839496;">]
</span></code></pre>
<p>最后一行，<code>[dependencies]</code> 是罗列项目依赖的片段的开始。在 Rust 中，代码包被称为<code>crates</code>。Cargo 期望源文件存放在 <code>src</code> 目录中。</p>
<ul>
<li>
<p>构建项目使用命令：<code>cargo build</code></p>
</li>
<li>
<p>编译并运行使用命令：<code>cargo run</code></p>
</li>
<li>
<p>检查代码但不编译使用命令：<code>cargo check</code></p>
</li>
<li>
<p>发布构建：<code>cargo build --release</code></p>
</li>
<li>
<p>运行测试：<code>cargo test</code></p>
</li>
</ul>
<hr />
<h1 id="3-kai-fa-gong-ju-yi-ji-qi-ta-xiao-zhi-shi-dian">3. 开发工具以及其他小知识点</h1>
<ul>
<li>
<p><a href="https://github.com/neovim/neovim">neovim</a></p>
</li>
<li>
<p>插件 <a href="https://github.com/fannheyward/coc-rust-analyzer">coc-rust-analyzer</a> 和 <a href="https://github.com/rust-analyzer/rust-analyzer">rust-analyzer</a></p>
</li>
<li>
<p>需要安装 <code>rustup component add rust-src</code>，并配置变量 <code>$RUST_SRC_PATH</code> 为 <code>/home/jessun/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/</code></p>
</li>
<li>
<p>扩展 cargo 命令。</p>
<ul>
<li>安装 <code>cargo-edit</code> 来实现 <code>cargo add</code> 来编辑项目目录下的 <code>cargo.toml</code> 文件中的依赖项，仓库链接：https://github.com/killercup/cargo-edit 。</li>
</ul>
</li>
<li>
<p><code>rustup doc</code> 可以打开离线的Rust文档，包含如下内容。</p>
<ul>
<li>&lt;&lt; The Rust Programming Language &gt;&gt;</li>
<li>&lt;&lt; Rust By Example &gt;&gt;</li>
<li>The Standard Library
... 等其他众多内容</li>
</ul>
</li>
</ul>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https:&#x2F;&#x2F;jessun.github.io&#x2F;tags&#x2F;rust&#x2F;">#rust</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;jessun.github.io&#x2F;dotfiles-management&#x2F;">‹ Linux &#x2F; Mac OS dotfiles 文件备份还原最佳实践</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;jessun.github.io&#x2F;use-zola-blog-generator&#x2F;">使用 Zola 作为静态博客生成器 ›</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https:&#x2F;&#x2F;jessun.github.io&#x2F;even.js" ></script>
      
    </body>

</html>
